<ng-container *transloco="let t">
  <div *ngIf="!dialogRef" class="title">
    <img
      src="assets/logos/Logo_light.webp"
      class="logo-title"
      *ngIf="themeService.isDarkTheme"
    />
    <img
      src="assets/logos/Logo_dark.webp"
      class="logo-title"
      *ngIf="!themeService.isDarkTheme"
    />
  </div>
  <div class="start_container">
    <h2 mat-dialog-title>{{ t("unlockComponent.title") }}</h2>
    <mat-dialog-content>
      <div>
        {{ t("unlockComponent.reasonMessage") }}
        <br /><br />
        <form [formGroup]="importForm" novalidate (ngSubmit)="onSubmit($event)">
          <span *ngIf="file">{{ file.name }}</span>
          <input
            #inputfileid
            type="file"
            id="input-file-id"
            class="file-input"
            (change)="onFileSelected($event)"
          />
          <label
            for="input-file-id"
            class="mdc-button mdc-button--raised mat-mdc-raised-button mat-link"
          >
            <button
              mat-raised-button
              type="button"
              color="accent"
              (click)="inputfileid.click()"
            >
              {{ t("unlockComponent.choosePrivateKeyFile") }}
            </button>
          </label>
          <mat-error *ngIf="!file">
            {{ t("unlockComponent.form.file.error.required") }}
          </mat-error>
          <mat-form-field class="full-width">
            <input
              matInput
              placeholder="Password"
              formControlName="password"
              type="password"
              (input)="onPasswordChange()"
            />
          </mat-form-field>
          <mat-error
            *ngIf="importForm.controls['password'].hasError('required')"
          >
            {{ t("unlockComponent.form.password.error.required") }}
          </mat-error>
          <mat-error
            *ngIf="importForm.controls['password'].hasError('minlength')"
          >
            {{ t("unlockComponent.form.password.error.min") }}
          </mat-error>
          <mat-error *ngIf="pwdWrong">
            {{ t("unlockComponent.form.password.error.wrong") }}
          </mat-error>
        </form>
      </div>
      <br />
    </mat-dialog-content>
    <mat-dialog-actions>
      <div class="text-center">
        <button
          [disabled]="!importForm.valid"
          mat-raised-button
          color="primary"
          (click)="unlock()"
        >
          {{ t("unlockComponent.buttons.unlock") }}
        </button>
        <button (click)="createNewVault()" mat-raised-button>
          {{ t("unlockComponent.buttons.newUser") }}
        </button>
        <button (click)="importVault()" mat-raised-button>
          {{ t("unlockComponent.buttons.importVault") }}
        </button>
      </div>
    </mat-dialog-actions>
  </div>
</ng-container>
