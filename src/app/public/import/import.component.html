<ng-container *transloco="let t">
  <div *ngIf="!dialogRef" class="title">
    <img
      src="assets/logos/Logo_light.webp"
      class="logo-title"
      *ngIf="themeService.isDarkTheme"
    />
    <img
      src="assets/logos/Logo_dark.webp"
      class="logo-title"
      *ngIf="!themeService.isDarkTheme"
    />
  </div>
  <div class="start_container">
    <h2 mat-dialog-title>{{ t("importComponent.title") }}</h2>
    <mat-dialog-content>
      <div>
        {{ t("importComponent.message") }}
        <br /><br />
        <br />
        <form [formGroup]="importForm" novalidate (ngSubmit)="onSubmit($event)">
          <span *ngIf="file">{{ file.name }}</span>
          <input
            #inputfileid
            type="file"
            id="input-file-id"
            class="file-input"
            (change)="onFileSelected($event)"
          />
          <label
            for="input-file-id"
            class="mdc-button mdc-button--raised mat-mdc-raised-button mat-link"
          >
            <button
              mat-raised-button
              type="button"
              color="accent"
              (click)="inputfileid.click()"
            >
              {{ t("unlockComponent.choosePrivateKeyFile") }}
            </button>
          </label>
          <mat-error *ngIf="!file">
            {{ t("unlockComponent.form.file.error.required") }}
          </mat-error>
          <mat-form-field class="full-width">
            <input
              matInput
              placeholder="Password"
              formControlName="password"
              type="password"
              (input)="onPasswordChange()"
            />
          </mat-form-field>
          <mat-error
            *ngIf="importForm.controls['password'].hasError('required')"
          >
            {{ t("unlockComponent.form.password.error.required") }}
          </mat-error>
          <mat-error
            *ngIf="importForm.controls['password'].hasError('minlength')"
          >
            {{ t("unlockComponent.form.password.error.min") }}
          </mat-error>
          <mat-error *ngIf="pwdWrong">
            {{ t("unlockComponent.form.password.error.wrong") }}
          </mat-error>
          <div *ngIf="!selectedFileIsVaultFile">
            <span *ngIf="selectedConfigFile">{{ configFile.name }}</span
            ><br />
            <input
              #configFile
              type="file"
              id="input-file-config"
              class="file-input"
              (change)="onConfigFileSelected($event)"
            />
            <label
              for="input-file-config"
              class="mdc-button mdc-button--raised mat-mdc-raised-button mat-link"
            >
              <button
                mat-raised-button
                type="button"
                color="accent"
                (click)="configFile.click()"
              >
                {{ t("unlockComponent.chooseConfigFile") }}
              </button></label
            >
            <mat-error *ngIf="!selectedConfigFile">
              {{ t("unlockComponent.form.file.error.required") }}
            </mat-error>
          </div>
        </form>
      </div>
      <br />
    </mat-dialog-content>
    <mat-dialog-actions>
      <div class="text-center">
        <button
          [disabled]="!importForm.valid"
          mat-raised-button
          color="primary"
          (click)="checkImportAndUnlock()"
        >
          {{ t("unlockComponent.buttons.importAndUnlock") }}
        </button>
        <button [routerLink]="['/']" mat-raised-button>
          {{ t("unlockComponent.buttons.cancel") }}
        </button>
      </div>
    </mat-dialog-actions>
  </div>
</ng-container>
